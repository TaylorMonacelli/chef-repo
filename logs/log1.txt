[demo@demos-MacBook-Pro:/tmp/chef-repo(master)]$ cd /tmp/chef-repo/ && vagrant destroy --force && vagrant up
/opt/vagrant/embedded/gems/gems/vagrant-1.7.4/lib/vagrant/pre-rubygems.rb:31: warning: Insecure world writable dir /usr/local/bin in PATH, mode 040777
/opt/vagrant/embedded/gems/gems/bundler-1.10.5/lib/bundler/shared_helpers.rb:78: warning: Insecure world writable dir /usr/local/bin in PATH, mode 040777
==> server: VM not created. Moving on...
/opt/vagrant/embedded/gems/gems/vagrant-1.7.4/lib/vagrant/pre-rubygems.rb:31: warning: Insecure world writable dir /usr/local/bin in PATH, mode 040777
/opt/vagrant/embedded/gems/gems/bundler-1.10.5/lib/bundler/shared_helpers.rb:78: warning: Insecure world writable dir /usr/local/bin in PATH, mode 040777
Bringing machine 'server' up with 'virtualbox' provider...
==> server: Box 'opscode-ubuntu-14.10' could not be found. Attempting to find and install...
    server: Box Provider: virtualbox
    server: Box Version: >= 0
==> server: Box file was not detected as metadata. Adding it directly...
==> server: Adding box 'opscode-ubuntu-14.10' (v0) for provider: virtualbox
    server: Downloading: https://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-14.10_chef-provisionerless.box
==> server: Successfully added box 'opscode-ubuntu-14.10' (v0) for 'virtualbox'!
==> server: Importing base box 'opscode-ubuntu-14.10'...
==> server: Matching MAC address for NAT networking...
==> server: Setting the name of the VM: chef-repo_server_1448402744528_25020
==> server: Clearing any previously set network interfaces...
==> server: Preparing network interfaces based on configuration...
    server: Adapter 1: nat
    server: Adapter 2: hostonly
==> server: Forwarding ports...
    server: 22 => 2222 (adapter 1)
==> server: Running 'pre-boot' VM customizations...
==> server: Booting VM...
==> server: Waiting for machine to boot. This may take a few minutes...
    server: SSH address: 127.0.0.1:2222
    server: SSH username: vagrant
    server: SSH auth method: private key
    server: Warning: Connection timeout. Retrying...
    server: 
    server: Vagrant insecure key detected. Vagrant will automatically replace
    server: this with a newly generated keypair for better security.
    server: 
    server: Inserting generated public key within guest...
    server: Removing insecure key from the guest if it's present...
    server: Key inserted! Disconnecting and reconnecting using new SSH key...
==> server: Machine booted and ready!
==> server: Checking for guest additions in VM...
    server: The guest additions on this VM do not match the installed version of
    server: VirtualBox! In most cases this is fine, but in rare cases it can
    server: prevent things such as shared folders from working properly. If you see
    server: shared folder errors, please make sure the guest additions within the
    server: virtual machine match the version of VirtualBox you have installed on
    server: your host and reload your VM.
    server: 
    server: Guest Additions Version: 4.3.18
    server: VirtualBox Version: 5.0
==> server: Setting hostname...
==> server: Configuring and enabling network interfaces...
==> server: Mounting shared folders...
    server: /vagrant => /private/tmp/chef-repo
==> server: Installing Chef 12.5.1 Omnibus package...
==> server: Downloading Chef 12.5.1 for ubuntu...
==> server: downloading https://www.chef.io/chef/metadata?v=12.5.1&prerelease=false&nightlies=false&p=ubuntu&pv=14.10&m=x86_64
==> server:   to file /tmp/install.sh.1749/metadata.txt
==> server: trying wget...
==> server: url	https://opscode-omnibus-packages.s3.amazonaws.com/ubuntu/14.04/x86_64/chef_12.5.1-1_amd64.deb
==> server: md5	d8fec2da288e94a7e2d649803a9d70f4
==> server: sha256	656a4c4a8fd64d74d1d970fb0d07076d6f1d8230d37d751f2c3698a52d82c070
==> server: downloaded metadata file looks valid...
==> server: downloading https://opscode-omnibus-packages.s3.amazonaws.com/ubuntu/14.04/x86_64/chef_12.5.1-1_amd64.deb
==> server:   to file /tmp/install.sh.1749/chef_12.5.1-1_amd64.deb
==> server: trying wget...
==> server: Comparing checksum with sha256sum...
==> server: Installing Chef 12.5.1
==> server: installing with dpkg...
==> server: Selecting previously unselected package chef.
==> server: (Reading database ... 32787 files and directories currently installed.)
==> server: Preparing to unpack .../chef_12.5.1-1_amd64.deb ...
==> server: Unpacking chef (12.5.1-1) ...
==> server: Setting up chef (12.5.1-1) ...
==> server: Thank you for installing Chef!
==> server: Running provisioner: chef_client...
==> server: Detected Chef (latest) is already installed
==> server: Creating folder to hold client key...
==> server: Uploading chef client validation key...
Generating chef JSON and uploading...
==> server: Warning: Chef run list is empty. This may not be what you want.
==> server: Running chef-client...
==> server: stdin: is not a tty
==> server: [2015-11-24T22:06:35+00:00] INFO: Forking chef instance to converge...
==> server: Starting Chef Client, version 12.5.1
==> server: [2015-11-24T22:06:35+00:00] INFO: *** Chef 12.5.1 ***
==> server: [2015-11-24T22:06:35+00:00] INFO: Chef-client pid: 1916
==> server: Creating a new client identity for server using the validator key.
==> server: [2015-11-24T22:06:36+00:00] INFO: Client key /etc/chef/client.pem is not present - registering
==> server: [2015-11-24T22:06:37+00:00] INFO: HTTP Request Returned 409 Conflict: Client already exists
==> server: [2015-11-24T22:06:38+00:00] INFO: HTTP Request Returned 400 Bad Request: error
==> server: 
==> server: ================================================================================
==> server: Chef encountered an error attempting to create the client "server"
==> server: ================================================================================
==> server: 
==> server: 
==> server: Invalid Request Data:
==> server: ---------------------
==> server: The data in your request was invalid (HTTP 400).
==> server: 
==> server: 
==> server: 
==> server: Server Response:
==> server: ----------------
==> server: Since Server API v1, all keys must be updated via the keys endpoint. 
==> server: 
==> server: 
==> server: 
==> server: Running handlers:
==> server: [2015-11-24T22:06:38+00:00] ERROR: Running exception handlers
==> server: Running handlers complete
==> server: 
==> server: [2015-11-24T22:06:38+00:00] ERROR: Exception handlers complete
==> server: Chef Client failed. 0 resources updated in 02 seconds
==> server: [2015-11-24T22:06:38+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
==> server: [2015-11-24T22:06:38+00:00] ERROR: 400 "Bad Request"
==> server: [2015-11-24T22:06:38+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
Chef never successfully completed! Any errors should be visible in the
output above. Please fix your recipes so that they properly complete.
[demo@demos-MacBook-Pro:/tmp/chef-repo(master)]$ 
